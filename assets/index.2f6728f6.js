(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))q(_);new MutationObserver(_=>{for(const w of _)if(w.type==="childList")for(const E of w.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&q(E)}).observe(document,{childList:!0,subtree:!0});function $(_){const w={};return _.integrity&&(w.integrity=_.integrity),_.referrerpolicy&&(w.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?w.credentials="include":_.crossorigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function q(_){if(_.ep)return;_.ep=!0;const w=$(_);fetch(_.href,w)}})();(function(c,g){typeof define=="function"&&define.amd?define([],g):window.m4=g()})(globalThis,function(){let c=Float32Array;function g(r){const e=c;return c=r,e}function $(r,e,n){n=n||new c(16);var o=e[0*4+0],a=e[0*4+1],t=e[0*4+2],i=e[0*4+3],y=e[1*4+0],l=e[1*4+1],m=e[1*4+2],h=e[1*4+3],f=e[2*4+0],u=e[2*4+1],S=e[2*4+2],x=e[2*4+3],L=e[3*4+0],A=e[3*4+1],T=e[3*4+2],C=e[3*4+3],D=r[0*4+0],V=r[0*4+1],F=r[0*4+2],I=r[0*4+3],N=r[1*4+0],U=r[1*4+1],Y=r[1*4+2],G=r[1*4+3],H=r[2*4+0],X=r[2*4+1],W=r[2*4+2],Z=r[2*4+3],K=r[3*4+0],k=r[3*4+1],Q=r[3*4+2],s=r[3*4+3];return n[0]=o*D+a*N+t*H+i*K,n[1]=o*V+a*U+t*X+i*k,n[2]=o*F+a*Y+t*W+i*Q,n[3]=o*I+a*G+t*Z+i*s,n[4]=y*D+l*N+m*H+h*K,n[5]=y*V+l*U+m*X+h*k,n[6]=y*F+l*Y+m*W+h*Q,n[7]=y*I+l*G+m*Z+h*s,n[8]=f*D+u*N+S*H+x*K,n[9]=f*V+u*U+S*X+x*k,n[10]=f*F+u*Y+S*W+x*Q,n[11]=f*I+u*G+S*Z+x*s,n[12]=L*D+A*N+T*H+C*K,n[13]=L*V+A*U+T*X+C*k,n[14]=L*F+A*Y+T*W+C*Q,n[15]=L*I+A*G+T*Z+C*s,n}function q(r,e,n){return n=n||new c(3),n[0]=r[0]+e[0],n[1]=r[1]+e[1],n[2]=r[2]+e[2],n}function _(r,e,n){return n=n||new c(3),n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],n}function w(r,e,n){return n=n||new c(3),n[0]=r[0]*e,n[1]=r[1]*e,n[2]=r[2]*e,n}function E(r,e){e=e||new c(3);var n=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return n>1e-5&&(e[0]=r[0]/n,e[1]=r[1]/n,e[2]=r[2]/n),e}function P(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])}function d(r){return r[0]*r[0]+r[1]*r[1]+r[2]*r[2]}function B(r,e,n){return n=n||new c(3),n[0]=r[1]*e[2]-r[2]*e[1],n[1]=r[2]*e[0]-r[0]*e[2],n[2]=r[0]*e[1]-r[1]*e[0],n}function vr(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function rr(r,e){const n=r[0]-e[0],o=r[1]-e[1],a=r[2]-e[2];return n*n+o*o+a*a}function er(r,e){return Math.sqrt(rr(r,e))}function fr(r){return r=r||new c(16),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function or(r,e){return e=e||new c(16),e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15],e}function ar(r,e,n,o){o=o||new c(16);var a=E(_(r,e)),t=E(B(n,a)),i=E(B(a,t));return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=0,o[4]=i[0],o[5]=i[1],o[6]=i[2],o[7]=0,o[8]=a[0],o[9]=a[1],o[10]=a[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function cr(r,e,n,o,a){a=a||new c(16);var t=Math.tan(Math.PI*.5-.5*r),i=1/(n-o);return a[0]=t/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=t,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(n+o)*i,a[11]=-1,a[12]=0,a[13]=0,a[14]=n*o*i*2,a[15]=0,a}function Lr(r,e,n,o,a,t,i){return i=i||new c(16),i[0]=2/(e-r),i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2/(o-n),i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2/(a-t),i[11]=0,i[12]=(r+e)/(r-e),i[13]=(n+o)/(n-o),i[14]=(a+t)/(a-t),i[15]=1,i}function hr(r,e,n,o,a,t,i){i=i||new c(16);var y=e-r,l=o-n,m=t-a;return i[0]=2*a/y,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=2*a/l,i[6]=0,i[7]=0,i[8]=(r+e)/y,i[9]=(o+n)/l,i[10]=-(t+a)/m,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*a*t/m,i[15]=0,i}function pr(r,e,n,o){return o=o||new c(16),o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=r,o[13]=e,o[14]=n,o[15]=1,o}function Ar(r,e,n,o,a){a=a||new c(16);var t=r[0],i=r[1],y=r[2],l=r[3],m=r[1*4+0],h=r[1*4+1],f=r[1*4+2],u=r[1*4+3],S=r[2*4+0],x=r[2*4+1],L=r[2*4+2],A=r[2*4+3],T=r[3*4+0],C=r[3*4+1],D=r[3*4+2],V=r[3*4+3];return r!==a&&(a[0]=t,a[1]=i,a[2]=y,a[3]=l,a[4]=m,a[5]=h,a[6]=f,a[7]=u,a[8]=S,a[9]=x,a[10]=L,a[11]=A),a[12]=t*e+m*n+S*o+T,a[13]=i*e+h*n+x*o+C,a[14]=y*e+f*n+L*o+D,a[15]=l*e+u*n+A*o+V,a}function Mr(r,e){e=e||new c(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=o,e[7]=0,e[8]=0,e[9]=-o,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yr(r,e,n){n=n||new c(16);var o=r[4],a=r[5],t=r[6],i=r[7],y=r[8],l=r[9],m=r[10],h=r[11],f=Math.cos(e),u=Math.sin(e);return n[4]=f*o+u*y,n[5]=f*a+u*l,n[6]=f*t+u*m,n[7]=f*i+u*h,n[8]=f*y-u*o,n[9]=f*l-u*a,n[10]=f*m-u*t,n[11]=f*h-u*i,r!==n&&(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function tr(r,e){e=e||new c(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=n,e[1]=0,e[2]=-o,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=o,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lr(r,e,n){n=n||new c(16);var o=r[0*4+0],a=r[0*4+1],t=r[0*4+2],i=r[0*4+3],y=r[2*4+0],l=r[2*4+1],m=r[2*4+2],h=r[2*4+3],f=Math.cos(e),u=Math.sin(e);return n[0]=f*o-u*y,n[1]=f*a-u*l,n[2]=f*t-u*m,n[3]=f*i-u*h,n[8]=f*y+u*o,n[9]=f*l+u*a,n[10]=f*m+u*t,n[11]=f*h+u*i,r!==n&&(n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function Rr(r,e){e=e||new c(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=n,e[1]=o,e[2]=0,e[3]=0,e[4]=-o,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Tr(r,e,n){n=n||new c(16);var o=r[0*4+0],a=r[0*4+1],t=r[0*4+2],i=r[0*4+3],y=r[1*4+0],l=r[1*4+1],m=r[1*4+2],h=r[1*4+3],f=Math.cos(e),u=Math.sin(e);return n[0]=f*o+u*y,n[1]=f*a+u*l,n[2]=f*t+u*m,n[3]=f*i+u*h,n[4]=f*y-u*o,n[5]=f*l-u*a,n[6]=f*m-u*t,n[7]=f*h-u*i,r!==n&&(n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function ur(r,e,n){n=n||new c(16);var o=r[0],a=r[1],t=r[2],i=Math.sqrt(o*o+a*a+t*t);o/=i,a/=i,t/=i;var y=o*o,l=a*a,m=t*t,h=Math.cos(e),f=Math.sin(e),u=1-h;return n[0]=y+(1-y)*h,n[1]=o*a*u+t*f,n[2]=o*t*u-a*f,n[3]=0,n[4]=o*a*u-t*f,n[5]=l+(1-l)*h,n[6]=a*t*u+o*f,n[7]=0,n[8]=o*t*u+a*f,n[9]=a*t*u-o*f,n[10]=m+(1-m)*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Pr(r,e,n,o){o=o||new c(16);var a=e[0],t=e[1],i=e[2],y=Math.sqrt(a*a+t*t+i*i);a/=y,t/=y,i/=y;var l=a*a,m=t*t,h=i*i,f=Math.cos(n),u=Math.sin(n),S=1-f,x=l+(1-l)*f,L=a*t*S+i*u,A=a*i*S-t*u,T=a*t*S-i*u,C=m+(1-m)*f,D=t*i*S+a*u,V=a*i*S+t*u,F=t*i*S-a*u,I=h+(1-h)*f,N=r[0],U=r[1],Y=r[2],G=r[3],H=r[4],X=r[5],W=r[6],Z=r[7],K=r[8],k=r[9],Q=r[10],s=r[11];return o[0]=x*N+L*H+A*K,o[1]=x*U+L*X+A*k,o[2]=x*Y+L*W+A*Q,o[3]=x*G+L*Z+A*s,o[4]=T*N+C*H+D*K,o[5]=T*U+C*X+D*k,o[6]=T*Y+C*W+D*Q,o[7]=T*G+C*Z+D*s,o[8]=V*N+F*H+I*K,o[9]=V*U+F*X+I*k,o[10]=V*Y+F*W+I*Q,o[11]=V*G+F*Z+I*s,r!==o&&(o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o}function Vr(r,e,n,o){return o=o||new c(16),o[0]=r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=e,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Br(r,e,n,o,a){return a=a||new c(16),a[0]=e*r[0*4+0],a[1]=e*r[0*4+1],a[2]=e*r[0*4+2],a[3]=e*r[0*4+3],a[4]=n*r[1*4+0],a[5]=n*r[1*4+1],a[6]=n*r[1*4+2],a[7]=n*r[1*4+3],a[8]=o*r[2*4+0],a[9]=o*r[2*4+1],a[10]=o*r[2*4+2],a[11]=o*r[2*4+3],r!==a&&(a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a}function zr(r,e,n,o){o=o||new c(16);const a=e[0],t=e[1],i=e[2],y=e[3],l=a+a,m=t+t,h=i+i,f=a*l,u=a*m,S=a*h,x=t*m,L=t*h,A=i*h,T=y*l,C=y*m,D=y*h,V=n[0],F=n[1],I=n[2];return o[0]=(1-(x+A))*V,o[1]=(u+D)*V,o[2]=(S-C)*V,o[3]=0,o[4]=(u-D)*F,o[5]=(1-(f+A))*F,o[6]=(L+T)*F,o[7]=0,o[8]=(S+C)*I,o[9]=(L-T)*I,o[10]=(1-(f+x))*I,o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function Cr(r,e){const n=r[0],o=r[4],a=r[8],t=r[1],i=r[5],y=r[9],l=r[2],m=r[6],h=r[10],f=n+i+h;if(f>0){const u=.5/Math.sqrt(f+1);e[3]=.25/u,e[0]=(m-y)*u,e[1]=(a-l)*u,e[2]=(t-o)*u}else if(n>i&&n>h){const u=2*Math.sqrt(1+n-i-h);e[3]=(m-y)/u,e[0]=.25*u,e[1]=(o+t)/u,e[2]=(a+l)/u}else if(i>h){const u=2*Math.sqrt(1+i-n-h);e[3]=(a-l)/u,e[0]=(o+t)/u,e[1]=.25*u,e[2]=(y+m)/u}else{const u=2*Math.sqrt(1+h-n-i);e[3]=(t-o)/u,e[0]=(a+l)/u,e[1]=(y+m)/u,e[2]=.25*u}}function v(r,e,n,o){let a=m4.length(r.slice(0,3));const t=m4.length(r.slice(4,7)),i=m4.length(r.slice(8,11));p(r)<0&&(a=-a),e[0]=r[12],e[1]=r[13],e[2]=r[14];const l=m4.copy(r),m=1/a,h=1/t,f=1/i;l[0]*=m,l[1]*=m,l[2]*=m,l[4]*=h,l[5]*=h,l[6]*=h,l[8]*=f,l[9]*=f,l[10]*=f,Cr(l,n),o[0]=a,o[1]=t,o[2]=i}function p(r){var e=r[0],n=r[0*4+1],o=r[0*4+2],a=r[0*4+3],t=r[1*4+0],i=r[1*4+1],y=r[1*4+2],l=r[1*4+3],m=r[2*4+0],h=r[2*4+1],f=r[2*4+2],u=r[2*4+3],S=r[3*4+0],x=r[3*4+1],L=r[3*4+2],A=r[3*4+3],T=f*A,C=L*u,D=y*A,V=L*l,F=y*u,I=f*l,N=o*A,U=L*a,Y=o*u,G=f*a,H=o*l,X=y*a,W=T*i+V*h+F*x-(C*i+D*h+I*x),Z=C*n+N*h+G*x-(T*n+U*h+Y*x),K=D*n+U*i+H*x-(V*n+N*i+X*x),k=I*n+Y*i+X*h-(F*n+G*i+H*h);return 1/(e*W+t*Z+m*K+S*k)}function M(r,e){e=e||new c(16);var n=r[0*4+0],o=r[0*4+1],a=r[0*4+2],t=r[0*4+3],i=r[1*4+0],y=r[1*4+1],l=r[1*4+2],m=r[1*4+3],h=r[2*4+0],f=r[2*4+1],u=r[2*4+2],S=r[2*4+3],x=r[3*4+0],L=r[3*4+1],A=r[3*4+2],T=r[3*4+3],C=u*T,D=A*S,V=l*T,F=A*m,I=l*S,N=u*m,U=a*T,Y=A*t,G=a*S,H=u*t,X=a*m,W=l*t,Z=h*L,K=x*f,k=i*L,Q=x*y,s=i*f,mr=h*y,wr=n*L,gr=x*o,xr=n*f,_r=h*o,Er=n*y,Sr=i*o,Ir=C*y+F*f+I*L-(D*y+V*f+N*L),qr=D*o+U*f+H*L-(C*o+Y*f+G*L),Or=V*o+Y*y+X*L-(F*o+U*y+W*L),br=N*o+G*y+W*f-(I*o+H*y+X*f),j=1/(n*Ir+i*qr+h*Or+x*br);return e[0]=j*Ir,e[1]=j*qr,e[2]=j*Or,e[3]=j*br,e[4]=j*(D*i+V*h+N*x-(C*i+F*h+I*x)),e[5]=j*(C*n+Y*h+G*x-(D*n+U*h+H*x)),e[6]=j*(F*n+U*i+W*x-(V*n+Y*i+X*x)),e[7]=j*(I*n+H*i+X*h-(N*n+G*i+W*h)),e[8]=j*(Z*m+Q*S+s*T-(K*m+k*S+mr*T)),e[9]=j*(K*t+wr*S+_r*T-(Z*t+gr*S+xr*T)),e[10]=j*(k*t+gr*m+Er*T-(Q*t+wr*m+Sr*T)),e[11]=j*(mr*t+xr*m+Sr*S-(s*t+_r*m+Er*S)),e[12]=j*(k*u+mr*A+K*l-(s*A+Z*l+Q*u)),e[13]=j*(xr*A+Z*a+gr*u-(wr*u+_r*A+K*a)),e[14]=j*(wr*l+Sr*A+Q*a-(Er*A+k*a+gr*l)),e[15]=j*(Er*u+s*a+_r*l-(xr*l+Sr*u+mr*a)),e}function z(r,e,n){n=n||new c(4);for(var o=0;o<4;++o){n[o]=0;for(var a=0;a<4;++a)n[o]+=e[a]*r[a*4+o]}return n}function O(r,e,n){n=n||new c(3);var o=e[0],a=e[1],t=e[2],i=o*r[0*4+3]+a*r[1*4+3]+t*r[2*4+3]+r[3*4+3];return n[0]=(o*r[0*4+0]+a*r[1*4+0]+t*r[2*4+0]+r[3*4+0])/i,n[1]=(o*r[0*4+1]+a*r[1*4+1]+t*r[2*4+1]+r[3*4+1])/i,n[2]=(o*r[0*4+2]+a*r[1*4+2]+t*r[2*4+2]+r[3*4+2])/i,n}function b(r,e,n){n=n||new c(3);var o=e[0],a=e[1],t=e[2];return n[0]=o*r[0*4+0]+a*r[1*4+0]+t*r[2*4+0],n[1]=o*r[0*4+1]+a*r[1*4+1]+t*r[2*4+1],n[2]=o*r[0*4+2]+a*r[1*4+2]+t*r[2*4+2],n}function J(r,e,n){n=n||new c(3);var o=M(r),a=e[0],t=e[1],i=e[2];return n[0]=a*o[0*4+0]+t*o[0*4+1]+i*o[0*4+2],n[1]=a*o[1*4+0]+t*o[1*4+1]+i*o[1*4+2],n[2]=a*o[2*4+0]+t*o[2*4+1]+i*o[2*4+2],n}function ir(r,e){return e=e||new c(16),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}return{copy:ir,lookAt:ar,addVectors:q,subtractVectors:_,scaleVector:w,distance:er,distanceSq:rr,normalize:E,compose:zr,cross:B,decompose:v,dot:vr,identity:fr,transpose:or,length:P,lengthSq:d,orthographic:Lr,frustum:hr,perspective:cr,translation:pr,translate:Ar,xRotation:Mr,yRotation:tr,zRotation:Rr,xRotate:yr,yRotate:lr,zRotate:Tr,axisRotation:ur,axisRotate:Pr,scaling:Vr,scale:Br,multiply:$,inverse:M,transformVector:z,transformPoint:O,transformDirection:b,transformNormal:J,setDefaultType:g}});const Gr=`
attribute vec3 vertex;
uniform mat4 ModelViewProjectionMatrix;

void main() {
    gl_Position = ModelViewProjectionMatrix * vec4(vertex,1.0);
}`,Hr=`
#ifdef GL_FRAGMENT_PRECISION_HIGH
   precision highp float;
#else
   precision mediump float;
#endif

uniform vec4 color;
void main() {
    gl_FragColor = color;
}`;function Xr(c,g,$,q,_){var w=new Array(3),E=new Array(3),P=new Array(3),d,B;this.setView=function(v,p,M){P=p===void 0?[0,0,10]:p,M=M===void 0?[0,1,0]:M,d=v,ur(P,P),Pr(E,P),zr(E,E,Rr(P,M)),Br(E,M,E),ur(E,E),Cr(w,E,P)},this.getViewMatrix=function(){var v=[w[0],E[0],P[0],0,w[1],E[1],P[1],0,w[2],E[2],P[2],0,0,0,0,1];if(B!==void 0){var p=B[0]-v[0]*B[0]-v[4]*B[1]-v[8]*B[2],M=B[1]-v[1]*B[0]-v[5]*B[1]-v[9]*B[2],z=B[2]-v[2]*B[0]-v[6]*B[1]-v[10]*B[2];v[12]=p,v[13]=M,v[14]=z}return d!==void 0&&(v[14]-=d),v},this.getViewDistance=function(){return d},this.setViewDistance=function(v){d=v},this.getRotationCenter=function(){return B===void 0?[0,0,0]:B},this.setRotationCenter=function(v){B=v},this.setView($,q,_),c.addEventListener("mousedown",Lr,!1),c.addEventListener("touchstart",Ar,!1);function vr(v,p){function M(b,J,ir){var r=2*(b[0]*J[0]+b[1]*J[1]+b[2]*J[2]);ir[0]=r*b[0]-J[0],ir[1]=r*b[1]-J[1],ir[2]=r*b[2]-J[2]}ur(v,v),ur(p,p);var z=[0,0,0];Vr(z,v,p),ur(z,z);var O=[0,0,0];M(z,P,O),M(v,O,P),M(z,w,O),M(v,O,w),M(z,E,O),M(v,O,E)}var rr,er,fr,or,ar,cr=!1;function Lr(v){if(!cr){cr=!0,rr=c.width/2,er=c.height/2;var p=Math.min(rr,er);fr=p*p,document.addEventListener("mousemove",hr,!1),document.addEventListener("mouseup",pr,!1);var M=c.getBoundingClientRect();or=v.clientX-M.left,ar=v.clientY-M.top}}function hr(v){if(!!cr){var p=c.getBoundingClientRect(),M=v.clientX-p.left,z=v.clientY-p.top,O=lr(or,ar),b=lr(M,z);vr(O,b),or=M,ar=z,g&&g()}}function pr(v){cr&&(document.removeEventListener("mousemove",hr,!1),document.removeEventListener("mouseup",pr,!1),cr=!1)}function Ar(v){if(v.touches.length!=1){tr();return}v.preventDefault();var p=c.getBoundingClientRect();or=v.touches[0].clientX-p.left,ar=v.touches[0].clientY-p.top,c.addEventListener("touchmove",Mr,!1),c.addEventListener("touchend",yr,!1),c.addEventListener("touchcancel",tr,!1),touchStarted=!0,rr=c.width/2,er=c.height/2;var M=Math.min(rr,er);fr=M*M}function Mr(v){if(v.touches.length!=1||!touchStarted){tr();return}v.preventDefault();var p=c.getBoundingClientRect(),M=v.touches[0].clientX-p.left,z=v.touches[0].clientY-p.top,O=lr(or,ar),b=lr(M,z);vr(O,b),or=M,ar=z,g&&g()}function yr(v){tr()}function tr(){touchStarted&&(touchStarted=!1,c.removeEventListener("touchmove",Mr,!1),c.removeEventListener("touchend",yr,!1),c.removeEventListener("touchcancel",tr,!1))}function lr(v,p){var M=v-rr,z=er-p,O=M*w[0]+z*E[0],b=M*w[1]+z*E[1],J=M*w[2]+z*E[2],ir=O*O+b*b+J*J;if(ir>fr)return[O,b,J];var r=Math.sqrt(fr-ir);return[O+r*P[0],b+r*P[1],J+r*P[2]]}function Rr(v,p){return v[0]*p[0]+v[1]*p[1]+v[2]*p[2]}function Tr(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2])}function ur(v,p){var M=Tr(p);v[0]=p[0]/M,v[1]=p[1]/M,v[2]=p[2]/M}function Pr(v,p){v[0]=p[0],v[1]=p[1],v[2]=p[2]}function Vr(v,p,M){v[0]=p[0]+M[0],v[1]=p[1]+M[1],v[2]=p[2]+M[2]}function Br(v,p,M){v[0]=p[0]-M[0],v[1]=p[1]-M[1],v[2]=p[2]-M[2]}function zr(v,p,M){v[0]=p[0]*M,v[1]=p[1]*M,v[2]=p[2]*M}function Cr(v,p,M){var z=p[1]*M[2]-p[2]*M[1],O=p[2]*M[0]-p[0]*M[2],b=p[0]*M[1]-p[1]*M[0];v[0]=z,v[1]=O,v[2]=b}}let R,Fr,nr,Ur;const jr=5,Yr={zoom:3};function Wr(c){this.name=c,this.iVertexBuffer=R.createBuffer(),this.count=0,this.BufferData=function(g){R.bindBuffer(R.ARRAY_BUFFER,this.iVertexBuffer),R.bufferData(R.ARRAY_BUFFER,new Float32Array(g),R.STREAM_DRAW),this.count=g.length/3},this.Draw=function(){R.bindBuffer(R.ARRAY_BUFFER,this.iVertexBuffer),R.vertexAttribPointer(nr.iAttribVertex,3,R.FLOAT,!1,0,0),R.enableVertexAttribArray(nr.iAttribVertex),R.drawArrays(R.LINE_STRIP,0,this.count)}}function Zr(c,g){this.name=c,this.prog=g,this.iAttribVertex=-1,this.iColor=-1,this.iModelViewProjectionMatrix=-1,this.Use=function(){R.useProgram(this.prog)}}function Dr(){R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT);let c=m4.perspective(Math.PI/8,1,8,12),g=Ur.getViewMatrix(),$=m4.axisRotation([.707,.707,0],.7),q=m4.translation(0,0,-10),_=m4.multiply($,g),w=m4.multiply(q,_),E=m4.multiply(c,w);R.uniformMatrix4fv(nr.iModelViewProjectionMatrix,!1,E),R.uniform4fv(nr.iColor,[0,1,0,1]),Fr.Draw()}function Kr(c,g=1){let $=6,q=6,_=4,w=.5,E=0;for(let P=0;P<=q;P+=.05)for(let d=0;d<2*Math.PI;d+=.1){let B=P*Math.cos(d),vr=P*Math.sin(d),rr=$*Math.PI/q,er=_*Math.pow(Math.E,-w*P)*Math.sin(rr*P+E);c.push(B/g,vr/g,er/g)}}function kr(){let c=[];return Kr(c,Yr.zoom),c}function Nr(){let c=$r(R,Gr,Hr);nr=new Zr("Basic",c),nr.Use(),nr.iAttribVertex=R.getAttribLocation(c,"vertex"),nr.iModelViewProjectionMatrix=R.getUniformLocation(c,"ModelViewProjectionMatrix"),nr.iColor=R.getUniformLocation(c,"color"),Fr=new Wr("Surface"),Fr.BufferData(kr()),R.enable(R.DEPTH_TEST)}function $r(c,g,$){let q=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(q,g),c.compileShader(q),!c.getShaderParameter(q,c.COMPILE_STATUS))throw new Error("Error in vertex shader:  "+c.getShaderInfoLog(q));let _=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(_,$),c.compileShader(_),!c.getShaderParameter(_,c.COMPILE_STATUS))throw new Error("Error in fragment shader:  "+c.getShaderInfoLog(_));let w=c.createProgram();if(c.attachShader(w,q),c.attachShader(w,_),c.linkProgram(w),!c.getProgramParameter(w,c.LINK_STATUS))throw new Error("Link error in program:  "+c.getProgramInfoLog(w));return w}function Jr(){let c;try{if(c=document.getElementById("webglcanvas"),R=c.getContext("webgl"),!R)throw"Browser does not support WebGL"}catch{document.getElementById("canvas-holder").innerHTML="<p>Sorry, could not get a WebGL graphics context.</p>";return}try{Nr()}catch(g){document.getElementById("canvas-holder").innerHTML="<p>Sorry, could not initialize the WebGL graphics context: "+g+"</p>";return}Ur=new Xr(c,Dr,1),Qr("zoom",g=>{Yr.zoom=jr-g+1,Nr(),Dr()}),Dr()}function Qr(c,g){const $=document.getElementById(c),q=document.getElementById(`${c}-text`);$.addEventListener("input",_=>{const w=_.target.value;q.innerText=w,g(w)})}document.addEventListener("DOMContentLoaded",Jr);
