(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))z(x);new MutationObserver(x=>{for(const L of x)if(L.type==="childList")for(const _ of L.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&z(_)}).observe(document,{childList:!0,subtree:!0});function R(x){const L={};return x.integrity&&(L.integrity=x.integrity),x.referrerpolicy&&(L.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?L.credentials="include":x.crossorigin==="anonymous"?L.credentials="omit":L.credentials="same-origin",L}function z(x){if(x.ep)return;x.ep=!0;const L=R(x);fetch(x.href,L)}})();(function(a,y){typeof define=="function"&&define.amd?define([],y):window.m4=y()})(globalThis,function(){let a=Float32Array;function y(r){const e=a;return a=r,e}function R(r,e,n){n=n||new a(16);var o=e[0*4+0],i=e[0*4+1],c=e[0*4+2],t=e[0*4+3],M=e[1*4+0],l=e[1*4+1],w=e[1*4+2],h=e[1*4+3],f=e[2*4+0],v=e[2*4+1],P=e[2*4+2],A=e[2*4+3],V=e[3*4+0],E=e[3*4+1],S=e[3*4+2],C=e[3*4+3],F=r[0*4+0],B=r[0*4+1],b=r[0*4+2],U=r[0*4+3],Y=r[1*4+0],G=r[1*4+1],H=r[1*4+2],X=r[1*4+3],k=r[2*4+0],j=r[2*4+1],Q=r[2*4+2],$=r[2*4+3],s=r[3*4+0],d=r[3*4+1],ar=r[3*4+2],tr=r[3*4+3];return n[0]=o*F+i*Y+c*k+t*s,n[1]=o*B+i*G+c*j+t*d,n[2]=o*b+i*H+c*Q+t*ar,n[3]=o*U+i*X+c*$+t*tr,n[4]=M*F+l*Y+w*k+h*s,n[5]=M*B+l*G+w*j+h*d,n[6]=M*b+l*H+w*Q+h*ar,n[7]=M*U+l*X+w*$+h*tr,n[8]=f*F+v*Y+P*k+A*s,n[9]=f*B+v*G+P*j+A*d,n[10]=f*b+v*H+P*Q+A*ar,n[11]=f*U+v*X+P*$+A*tr,n[12]=V*F+E*Y+S*k+C*s,n[13]=V*B+E*G+S*j+C*d,n[14]=V*b+E*H+S*Q+C*ar,n[15]=V*U+E*X+S*$+C*tr,n}function z(r,e,n){return n=n||new a(3),n[0]=r[0]+e[0],n[1]=r[1]+e[1],n[2]=r[2]+e[2],n}function x(r,e,n){return n=n||new a(3),n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],n}function L(r,e,n){return n=n||new a(3),n[0]=r[0]*e,n[1]=r[1]*e,n[2]=r[2]*e,n}function _(r,e){e=e||new a(3);var n=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return n>1e-5&&(e[0]=r[0]/n,e[1]=r[1]/n,e[2]=r[2]/n),e}function D(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])}function K(r){return r[0]*r[0]+r[1]*r[1]+r[2]*r[2]}function T(r,e,n){return n=n||new a(3),n[0]=r[1]*e[2]-r[2]*e[1],n[1]=r[2]*e[0]-r[0]*e[2],n[2]=r[0]*e[1]-r[1]*e[0],n}function O(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function rr(r,e){const n=r[0]-e[0],o=r[1]-e[1],i=r[2]-e[2];return n*n+o*o+i*i}function or(r,e){return Math.sqrt(rr(r,e))}function cr(r){return r=r||new a(16),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function er(r,e){return e=e||new a(16),e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15],e}function nr(r,e,n,o){o=o||new a(16);var i=_(x(r,e)),c=_(T(n,i)),t=_(T(i,c));return o[0]=c[0],o[1]=c[1],o[2]=c[2],o[3]=0,o[4]=t[0],o[5]=t[1],o[6]=t[2],o[7]=0,o[8]=i[0],o[9]=i[1],o[10]=i[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function J(r,e,n,o,i){i=i||new a(16);var c=Math.tan(Math.PI*.5-.5*r),t=1/(n-o);return i[0]=c/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=c,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(n+o)*t,i[11]=-1,i[12]=0,i[13]=0,i[14]=n*o*t*2,i[15]=0,i}function Dr(r,e,n,o,i,c,t){return t=t||new a(16),t[0]=2/(e-r),t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2/(o-n),t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2/(i-c),t[11]=0,t[12]=(r+e)/(r-e),t[13]=(n+o)/(n-o),t[14]=(i+c)/(i-c),t[15]=1,t}function yr(r,e,n,o,i,c,t){t=t||new a(16);var M=e-r,l=o-n,w=c-i;return t[0]=2*i/M,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i/l,t[6]=0,t[7]=0,t[8]=(r+e)/M,t[9]=(o+n)/l,t[10]=-(c+i)/w,t[11]=-1,t[12]=0,t[13]=0,t[14]=-2*i*c/w,t[15]=0,t}function Mr(r,e,n,o){return o=o||new a(16),o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=r,o[13]=e,o[14]=n,o[15]=1,o}function Sr(r,e,n,o,i){i=i||new a(16);var c=r[0],t=r[1],M=r[2],l=r[3],w=r[1*4+0],h=r[1*4+1],f=r[1*4+2],v=r[1*4+3],P=r[2*4+0],A=r[2*4+1],V=r[2*4+2],E=r[2*4+3],S=r[3*4+0],C=r[3*4+1],F=r[3*4+2],B=r[3*4+3];return r!==i&&(i[0]=c,i[1]=t,i[2]=M,i[3]=l,i[4]=w,i[5]=h,i[6]=f,i[7]=v,i[8]=P,i[9]=A,i[10]=V,i[11]=E),i[12]=c*e+w*n+P*o+S,i[13]=t*e+h*n+A*o+C,i[14]=M*e+f*n+V*o+F,i[15]=l*e+v*n+E*o+B,i}function wr(r,e){e=e||new a(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=o,e[7]=0,e[8]=0,e[9]=-o,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Lr(r,e,n){n=n||new a(16);var o=r[4],i=r[5],c=r[6],t=r[7],M=r[8],l=r[9],w=r[10],h=r[11],f=Math.cos(e),v=Math.sin(e);return n[4]=f*o+v*M,n[5]=f*i+v*l,n[6]=f*c+v*w,n[7]=f*t+v*h,n[8]=f*M-v*o,n[9]=f*l-v*i,n[10]=f*w-v*c,n[11]=f*h-v*t,r!==n&&(n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function ur(r,e){e=e||new a(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=n,e[1]=0,e[2]=-o,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=o,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function lr(r,e,n){n=n||new a(16);var o=r[0*4+0],i=r[0*4+1],c=r[0*4+2],t=r[0*4+3],M=r[2*4+0],l=r[2*4+1],w=r[2*4+2],h=r[2*4+3],f=Math.cos(e),v=Math.sin(e);return n[0]=f*o-v*M,n[1]=f*i-v*l,n[2]=f*c-v*w,n[3]=f*t-v*h,n[8]=f*M+v*o,n[9]=f*l+v*i,n[10]=f*w+v*c,n[11]=f*h+v*t,r!==n&&(n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function zr(r,e){e=e||new a(16);var n=Math.cos(r),o=Math.sin(r);return e[0]=n,e[1]=o,e[2]=0,e[3]=0,e[4]=-o,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Br(r,e,n){n=n||new a(16);var o=r[0*4+0],i=r[0*4+1],c=r[0*4+2],t=r[0*4+3],M=r[1*4+0],l=r[1*4+1],w=r[1*4+2],h=r[1*4+3],f=Math.cos(e),v=Math.sin(e);return n[0]=f*o+v*M,n[1]=f*i+v*l,n[2]=f*c+v*w,n[3]=f*t+v*h,n[4]=f*M-v*o,n[5]=f*l-v*i,n[6]=f*w-v*c,n[7]=f*h-v*t,r!==n&&(n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]),n}function fr(r,e,n){n=n||new a(16);var o=r[0],i=r[1],c=r[2],t=Math.sqrt(o*o+i*i+c*c);o/=t,i/=t,c/=t;var M=o*o,l=i*i,w=c*c,h=Math.cos(e),f=Math.sin(e),v=1-h;return n[0]=M+(1-M)*h,n[1]=o*i*v+c*f,n[2]=o*c*v-i*f,n[3]=0,n[4]=o*i*v-c*f,n[5]=l+(1-l)*h,n[6]=i*c*v+o*f,n[7]=0,n[8]=o*c*v+i*f,n[9]=i*c*v-o*f,n[10]=w+(1-w)*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Wr(r,e,n,o){o=o||new a(16);var i=e[0],c=e[1],t=e[2],M=Math.sqrt(i*i+c*c+t*t);i/=M,c/=M,t/=M;var l=i*i,w=c*c,h=t*t,f=Math.cos(n),v=Math.sin(n),P=1-f,A=l+(1-l)*f,V=i*c*P+t*v,E=i*t*P-c*v,S=i*c*P-t*v,C=w+(1-w)*f,F=c*t*P+i*v,B=i*t*P+c*v,b=c*t*P-i*v,U=h+(1-h)*f,Y=r[0],G=r[1],H=r[2],X=r[3],k=r[4],j=r[5],Q=r[6],$=r[7],s=r[8],d=r[9],ar=r[10],tr=r[11];return o[0]=A*Y+V*k+E*s,o[1]=A*G+V*j+E*d,o[2]=A*H+V*Q+E*ar,o[3]=A*X+V*$+E*tr,o[4]=S*Y+C*k+F*s,o[5]=S*G+C*j+F*d,o[6]=S*H+C*Q+F*ar,o[7]=S*X+C*$+F*tr,o[8]=B*Y+b*k+U*s,o[9]=B*G+b*j+U*d,o[10]=B*H+b*Q+U*ar,o[11]=B*X+b*$+U*tr,r!==o&&(o[12]=r[12],o[13]=r[13],o[14]=r[14],o[15]=r[15]),o}function Cr(r,e,n,o){return o=o||new a(16),o[0]=r,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=e,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Fr(r,e,n,o,i){return i=i||new a(16),i[0]=e*r[0*4+0],i[1]=e*r[0*4+1],i[2]=e*r[0*4+2],i[3]=e*r[0*4+3],i[4]=n*r[1*4+0],i[5]=n*r[1*4+1],i[6]=n*r[1*4+2],i[7]=n*r[1*4+3],i[8]=o*r[2*4+0],i[9]=o*r[2*4+1],i[10]=o*r[2*4+2],i[11]=o*r[2*4+3],r!==i&&(i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15]),i}function Ir(r,e,n,o){o=o||new a(16);const i=e[0],c=e[1],t=e[2],M=e[3],l=i+i,w=c+c,h=t+t,f=i*l,v=i*w,P=i*h,A=c*w,V=c*h,E=t*h,S=M*l,C=M*w,F=M*h,B=n[0],b=n[1],U=n[2];return o[0]=(1-(A+E))*B,o[1]=(v+F)*B,o[2]=(P-C)*B,o[3]=0,o[4]=(v-F)*b,o[5]=(1-(f+E))*b,o[6]=(V+S)*b,o[7]=0,o[8]=(P+C)*U,o[9]=(V-S)*U,o[10]=(1-(f+A))*U,o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function br(r,e){const n=r[0],o=r[4],i=r[8],c=r[1],t=r[5],M=r[9],l=r[2],w=r[6],h=r[10],f=n+t+h;if(f>0){const v=.5/Math.sqrt(f+1);e[3]=.25/v,e[0]=(w-M)*v,e[1]=(i-l)*v,e[2]=(c-o)*v}else if(n>t&&n>h){const v=2*Math.sqrt(1+n-t-h);e[3]=(w-M)/v,e[0]=.25*v,e[1]=(o+c)/v,e[2]=(i+l)/v}else if(t>h){const v=2*Math.sqrt(1+t-n-h);e[3]=(i-l)/v,e[0]=(o+c)/v,e[1]=.25*v,e[2]=(M+w)/v}else{const v=2*Math.sqrt(1+h-n-t);e[3]=(c-o)/v,e[0]=(i+l)/v,e[1]=(M+w)/v,e[2]=.25*v}}function u(r,e,n,o){let i=m4.length(r.slice(0,3));const c=m4.length(r.slice(4,7)),t=m4.length(r.slice(8,11));p(r)<0&&(i=-i),e[0]=r[12],e[1]=r[13],e[2]=r[14];const l=m4.copy(r),w=1/i,h=1/c,f=1/t;l[0]*=w,l[1]*=w,l[2]*=w,l[4]*=h,l[5]*=h,l[6]*=h,l[8]*=f,l[9]*=f,l[10]*=f,br(l,n),o[0]=i,o[1]=c,o[2]=t}function p(r){var e=r[0],n=r[0*4+1],o=r[0*4+2],i=r[0*4+3],c=r[1*4+0],t=r[1*4+1],M=r[1*4+2],l=r[1*4+3],w=r[2*4+0],h=r[2*4+1],f=r[2*4+2],v=r[2*4+3],P=r[3*4+0],A=r[3*4+1],V=r[3*4+2],E=r[3*4+3],S=f*E,C=V*v,F=M*E,B=V*l,b=M*v,U=f*l,Y=o*E,G=V*i,H=o*v,X=f*i,k=o*l,j=M*i,Q=S*t+B*h+b*A-(C*t+F*h+U*A),$=C*n+Y*h+X*A-(S*n+G*h+H*A),s=F*n+G*t+k*A-(B*n+Y*t+j*A),d=U*n+H*t+j*h-(b*n+X*t+k*h);return 1/(e*Q+c*$+w*s+P*d)}function m(r,e){e=e||new a(16);var n=r[0*4+0],o=r[0*4+1],i=r[0*4+2],c=r[0*4+3],t=r[1*4+0],M=r[1*4+1],l=r[1*4+2],w=r[1*4+3],h=r[2*4+0],f=r[2*4+1],v=r[2*4+2],P=r[2*4+3],A=r[3*4+0],V=r[3*4+1],E=r[3*4+2],S=r[3*4+3],C=v*S,F=E*P,B=l*S,b=E*w,U=l*P,Y=v*w,G=i*S,H=E*c,X=i*P,k=v*c,j=i*w,Q=l*c,$=h*V,s=A*f,d=t*V,ar=A*M,tr=t*f,xr=h*M,_r=n*V,Ar=A*o,Tr=n*f,Rr=h*o,Pr=n*M,Vr=t*o,Or=C*M+b*f+U*V-(F*M+B*f+Y*V),Yr=F*o+G*f+k*V-(C*o+H*f+X*V),Gr=B*o+H*M+j*V-(b*o+G*M+Q*V),Hr=Y*o+X*M+Q*f-(U*o+k*M+j*f),Z=1/(n*Or+t*Yr+h*Gr+A*Hr);return e[0]=Z*Or,e[1]=Z*Yr,e[2]=Z*Gr,e[3]=Z*Hr,e[4]=Z*(F*t+B*h+Y*A-(C*t+b*h+U*A)),e[5]=Z*(C*n+H*h+X*A-(F*n+G*h+k*A)),e[6]=Z*(b*n+G*t+Q*A-(B*n+H*t+j*A)),e[7]=Z*(U*n+k*t+j*h-(Y*n+X*t+Q*h)),e[8]=Z*($*w+ar*P+tr*S-(s*w+d*P+xr*S)),e[9]=Z*(s*c+_r*P+Rr*S-($*c+Ar*P+Tr*S)),e[10]=Z*(d*c+Ar*w+Pr*S-(ar*c+_r*w+Vr*S)),e[11]=Z*(xr*c+Tr*w+Vr*P-(tr*c+Rr*w+Pr*P)),e[12]=Z*(d*v+xr*E+s*l-(tr*E+$*l+ar*v)),e[13]=Z*(Tr*E+$*i+Ar*v-(_r*v+Rr*E+s*i)),e[14]=Z*(_r*l+Vr*E+ar*i-(Pr*E+d*i+Ar*l)),e[15]=Z*(Pr*v+tr*i+Rr*l-(Tr*l+Vr*v+xr*i)),e}function W(r,e,n){n=n||new a(4);for(var o=0;o<4;++o){n[o]=0;for(var i=0;i<4;++i)n[o]+=e[i]*r[i*4+o]}return n}function N(r,e,n){n=n||new a(3);var o=e[0],i=e[1],c=e[2],t=o*r[0*4+3]+i*r[1*4+3]+c*r[2*4+3]+r[3*4+3];return n[0]=(o*r[0*4+0]+i*r[1*4+0]+c*r[2*4+0]+r[3*4+0])/t,n[1]=(o*r[0*4+1]+i*r[1*4+1]+c*r[2*4+1]+r[3*4+1])/t,n[2]=(o*r[0*4+2]+i*r[1*4+2]+c*r[2*4+2]+r[3*4+2])/t,n}function q(r,e,n){n=n||new a(3);var o=e[0],i=e[1],c=e[2];return n[0]=o*r[0*4+0]+i*r[1*4+0]+c*r[2*4+0],n[1]=o*r[0*4+1]+i*r[1*4+1]+c*r[2*4+1],n[2]=o*r[0*4+2]+i*r[1*4+2]+c*r[2*4+2],n}function ir(r,e,n){n=n||new a(3);var o=m(r),i=e[0],c=e[1],t=e[2];return n[0]=i*o[0*4+0]+c*o[0*4+1]+t*o[0*4+2],n[1]=i*o[1*4+0]+c*o[1*4+1]+t*o[1*4+2],n[2]=i*o[2*4+0]+c*o[2*4+1]+t*o[2*4+2],n}function vr(r,e){return e=e||new a(16),e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}return{copy:vr,lookAt:nr,addVectors:z,subtractVectors:x,scaleVector:L,distance:or,distanceSq:rr,normalize:_,compose:Ir,cross:T,decompose:u,dot:O,identity:cr,transpose:er,length:D,lengthSq:K,orthographic:Dr,frustum:yr,perspective:J,translation:Mr,translate:Sr,xRotation:wr,yRotation:ur,zRotation:zr,xRotate:Lr,yRotate:lr,zRotate:Br,axisRotation:fr,axisRotate:Wr,scaling:Cr,scale:Fr,multiply:R,inverse:m,transformVector:W,transformPoint:N,transformDirection:q,transformNormal:ir,setDefaultType:y}});var kr=`#ifdef GL_FRAGMENT_PRECISION_HIGH
precision highp float;
#else
precision mediump float;
#endif

uniform vec4 color;
uniform vec3 LightDirection;

varying vec3 v_normal;
varying vec3 v_surfaceToLight;
varying vec3 v_surfaceToView;

void main() {
    vec3 normal = normalize(v_normal);

    vec3 surfaceToLightDirection = normalize(v_surfaceToLight);
    vec3 surfaceToViewDirection = normalize(v_surfaceToView);
    vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);

    float shininess = 4.0;

    float innerLimit = cos(5.0 * 3.1415 / 180.0);
    float outerLimit = cos(15.0 * 3.1415 / 180.0);

    float dotFromDirection = dot(surfaceToLightDirection, -LightDirection);
    float inLight = smoothstep(outerLimit, innerLimit, dotFromDirection);
    float light = inLight * dot(normal, surfaceToLightDirection);
    float specular = inLight * pow(dot(normal, halfVector), shininess);

    gl_FragColor = color;
    gl_FragColor.rgb *= light;
    gl_FragColor.rgb += specular;
}`,jr=`attribute vec3 vertex;
attribute vec3 normal;

uniform mat4 ModelViewProjectionMatrix;
uniform mat4 WorldInverseTranspose;
uniform mat4 WorldMatrix;
uniform vec3 LightWorldPosition;
uniform vec3 ViewWorldPosition;

varying vec3 v_normal;
varying vec3 v_surfaceToLight;
varying vec3 v_surfaceToView;

void main() {
    gl_Position = ModelViewProjectionMatrix * vec4(vertex,1.0);
    
    v_normal = mat3(WorldInverseTranspose) * normal;

    vec3 surfaceWorldPosition = (WorldMatrix * vec4(vertex, 1.0)).xyz;
    v_surfaceToLight = LightWorldPosition - surfaceWorldPosition;
    v_surfaceToView = ViewWorldPosition - surfaceWorldPosition;
}`;function Zr(a,y,R,z,x){var L=new Array(3),_=new Array(3),D=new Array(3),K,T;this.setView=function(u,p,m){D=p===void 0?[0,0,10]:p,m=m===void 0?[0,1,0]:m,K=u,fr(D,D),Wr(_,D),Ir(_,_,zr(D,m)),Fr(_,m,_),fr(_,_),br(L,_,D)},this.getViewMatrix=function(){var u=[L[0],_[0],D[0],0,L[1],_[1],D[1],0,L[2],_[2],D[2],0,0,0,0,1];if(T!==void 0){var p=T[0]-u[0]*T[0]-u[4]*T[1]-u[8]*T[2],m=T[1]-u[1]*T[0]-u[5]*T[1]-u[9]*T[2],W=T[2]-u[2]*T[0]-u[6]*T[1]-u[10]*T[2];u[12]=p,u[13]=m,u[14]=W}return K!==void 0&&(u[14]-=K),u},this.getViewDistance=function(){return K},this.setViewDistance=function(u){K=u},this.getRotationCenter=function(){return T===void 0?[0,0,0]:T},this.setRotationCenter=function(u){T=u},this.setView(R,z,x),a.addEventListener("mousedown",Dr,!1),a.addEventListener("touchstart",Sr,!1);function O(u,p){function m(q,ir,vr){var r=2*(q[0]*ir[0]+q[1]*ir[1]+q[2]*ir[2]);vr[0]=r*q[0]-ir[0],vr[1]=r*q[1]-ir[1],vr[2]=r*q[2]-ir[2]}fr(u,u),fr(p,p);var W=[0,0,0];Cr(W,u,p),fr(W,W);var N=[0,0,0];m(W,D,N),m(u,N,D),m(W,L,N),m(u,N,L),m(W,_,N),m(u,N,_)}var rr,or,cr,er,nr,J=!1;function Dr(u){if(!J){J=!0,rr=a.width/2,or=a.height/2;var p=Math.min(rr,or);cr=p*p,document.addEventListener("mousemove",yr,!1),document.addEventListener("mouseup",Mr,!1);var m=a.getBoundingClientRect();er=u.clientX-m.left,nr=u.clientY-m.top}}function yr(u){if(!!J){var p=a.getBoundingClientRect(),m=u.clientX-p.left,W=u.clientY-p.top,N=lr(er,nr),q=lr(m,W);O(N,q),er=m,nr=W,y&&y()}}function Mr(u){J&&(document.removeEventListener("mousemove",yr,!1),document.removeEventListener("mouseup",Mr,!1),J=!1)}function Sr(u){if(u.touches.length!=1){ur();return}u.preventDefault();var p=a.getBoundingClientRect();er=u.touches[0].clientX-p.left,nr=u.touches[0].clientY-p.top,a.addEventListener("touchmove",wr,!1),a.addEventListener("touchend",Lr,!1),a.addEventListener("touchcancel",ur,!1),touchStarted=!0,rr=a.width/2,or=a.height/2;var m=Math.min(rr,or);cr=m*m}function wr(u){if(u.touches.length!=1||!touchStarted){ur();return}u.preventDefault();var p=a.getBoundingClientRect(),m=u.touches[0].clientX-p.left,W=u.touches[0].clientY-p.top,N=lr(er,nr),q=lr(m,W);O(N,q),er=m,nr=W,y&&y()}function Lr(u){ur()}function ur(){touchStarted&&(touchStarted=!1,a.removeEventListener("touchmove",wr,!1),a.removeEventListener("touchend",Lr,!1),a.removeEventListener("touchcancel",ur,!1))}function lr(u,p){var m=u-rr,W=or-p,N=m*L[0]+W*_[0],q=m*L[1]+W*_[1],ir=m*L[2]+W*_[2],vr=N*N+q*q+ir*ir;if(vr>cr)return[N,q,ir];var r=Math.sqrt(cr-vr);return[N+r*D[0],q+r*D[1],ir+r*D[2]]}function zr(u,p){return u[0]*p[0]+u[1]*p[1]+u[2]*p[2]}function Br(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1]+u[2]*u[2])}function fr(u,p){var m=Br(p);u[0]=p[0]/m,u[1]=p[1]/m,u[2]=p[2]/m}function Wr(u,p){u[0]=p[0],u[1]=p[1],u[2]=p[2]}function Cr(u,p,m){u[0]=p[0]+m[0],u[1]=p[1]+m[1],u[2]=p[2]+m[2]}function Fr(u,p,m){u[0]=p[0]-m[0],u[1]=p[1]-m[1],u[2]=p[2]-m[2]}function Ir(u,p,m){u[0]=p[0]*m,u[1]=p[1]*m,u[2]=p[2]*m}function br(u,p,m){var W=p[1]*m[2]-p[2]*m[1],N=p[2]*m[0]-p[0]*m[2],q=p[0]*m[1]-p[1]*m[0];u[0]=W,u[1]=N,u[2]=q}}let g,Ur,I,Xr,Nr=0;function hr(a){return a*Math.PI/180}function Kr(a){this.name=a,this.iVertexBuffer=g.createBuffer(),this.iNormalBuffer=g.createBuffer(),this.count=0,this.BufferData=function(y,R){g.bindBuffer(g.ARRAY_BUFFER,this.iVertexBuffer),g.bufferData(g.ARRAY_BUFFER,new Float32Array(y),g.STREAM_DRAW),g.bindBuffer(g.ARRAY_BUFFER,this.iNormalBuffer),g.bufferData(g.ARRAY_BUFFER,new Float32Array(R),g.STREAM_DRAW),this.count=y.length/3},this.Draw=function(){g.bindBuffer(g.ARRAY_BUFFER,this.iVertexBuffer),g.vertexAttribPointer(I.iAttribVertex,3,g.FLOAT,!1,0,0),g.enableVertexAttribArray(I.iAttribVertex),g.bindBuffer(g.ARRAY_BUFFER,this.iNormalBuffer),g.vertexAttribPointer(I.iNormalVertex,3,g.FLOAT,!0,0,0),g.enableVertexAttribArray(I.iNormalVertex),g.drawArrays(g.TRIANGLE_STRIP,0,this.count)}}function Jr(a,y){this.name=a,this.prog=y,this.iAttribVertex=-1,this.iNormalVertex=-1,this.iColor=-1,this.iModelViewProjectionMatrix=-1,this.iWorldMatrix=-1,this.iWorldInverseTranspose=-1,this.iLightWorldPosition=-1,this.iLightDirection=-1,this.iViewWorldPosition=-1,this.Use=function(){g.useProgram(this.prog)}}function Er(){g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),g.enable(g.CULL_FACE),g.enable(g.DEPTH_TEST);let a=m4.perspective(Math.PI/8,1,8,12),y=Xr.getViewMatrix(),R=m4.translation(0,0,-10),z=m4.multiply(R,y),x=m4.multiply(a,z),L=m4.inverse(z),_=m4.transpose(L);g.uniform3fv(I.iViewWorldPosition,[0,0,0]),g.uniform3fv(I.iLightWorldPosition,ie()),g.uniform3fv(I.iLightDirection,[0,1,0]),g.uniformMatrix4fv(I.iWorldInverseTranspose,!1,_),g.uniformMatrix4fv(I.iModelViewProjectionMatrix,!1,x),g.uniformMatrix4fv(I.iWorldMatrix,!1,z),g.uniform4fv(I.iColor,[.5,.5,.5,1]),Ur.Draw()}let qr=4;function pr(a,y){return a*Math.cos(y)/qr}function mr(a,y){return a*Math.sin(y)/qr}function gr(a,y,R,z,x,L,_){let D=z*Math.PI/R;return x*Math.pow(Math.E,-L*a)*Math.sin(D*a+_)/qr}function Qr(){const a=[],y=[];let R=1e-4,z=1e-4,x=6,L=6,_=4,D=.5,K=0;for(let T=0;T<=L;T+=.001)for(let O=0;O<2*Math.PI;O+=.5){let rr=pr(T,O),or=mr(T,O),cr=gr(T,O,L,x,_,D,K);a.push(rr,or,cr);let er=$r(T,O,R,L,x,_,D,K),nr=sr(T,O,z,L,x,_,D,K),J=m4.cross(nr,er);y.push(J[0],J[1],J[2])}return[a,y]}function $r(a,y,R,z,x,L,_,D){let K=pr(a,y),T=mr(a,y),O=gr(a,y,z,x,L,_,D),rr=pr(a+R,y),or=mr(a+R,y),cr=gr(a+R,y,z,x,L,_,D),er=(rr-K)/hr(R),nr=(or-T)/hr(R),J=(cr-O)/hr(R);return[er,nr,J]}function sr(a,y,R,z,x,L,_,D){let K=pr(a,y),T=mr(a,y),O=gr(a,y,z,x,L,_,D),rr=pr(a,y+R),or=mr(a,y+R),cr=gr(a,y+R,z,x,L,_,D),er=(rr-K)/hr(R),nr=(or-T)/hr(R),J=(cr-O)/hr(R);return[er,nr,J]}function dr(){let a=re(g,jr,kr);I=new Jr("Basic",a),I.Use(),I.iAttribVertex=g.getAttribLocation(a,"vertex"),I.iNormalVertex=g.getAttribLocation(a,"normal"),I.iColor=g.getUniformLocation(a,"color"),I.iModelViewProjectionMatrix=g.getUniformLocation(a,"ModelViewProjectionMatrix"),I.iWorldInverseTranspose=g.getUniformLocation(a,"WorldInverseTranspose"),I.iWorldMatrix=g.getUniformLocation(a,"WorldMatrix"),I.iLightWorldPosition=g.getUniformLocation(a,"LightWorldPosition"),I.iLightDirection=g.getUniformLocation(a,"LightDirection"),I.iViewWorldPosition=g.getUniformLocation(a,"ViewWorldPosition"),Ur=new Kr("Surface");let y=Qr();Ur.BufferData(y[0],y[1])}function re(a,y,R){let z=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(z,y),a.compileShader(z),!a.getShaderParameter(z,a.COMPILE_STATUS))throw new Error("Error in vertex shader:  "+a.getShaderInfoLog(z));let x=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(x,R),a.compileShader(x),!a.getShaderParameter(x,a.COMPILE_STATUS))throw new Error("Error in fragment shader:  "+a.getShaderInfoLog(x));let L=a.createProgram();if(a.attachShader(L,z),a.attachShader(L,x),a.linkProgram(L),!a.getProgramParameter(L,a.LINK_STATUS))throw new Error("Link error in program:  "+a.getProgramInfoLog(L));return L}function ee(){let a;try{if(a=document.getElementById("webglcanvas"),g=a.getContext("webgl"),!g)throw"Browser does not support WebGL"}catch{document.getElementById("canvas-holder").innerHTML="<p>Sorry, could not get a WebGL graphics context.</p>";return}try{dr()}catch(y){document.getElementById("canvas-holder").innerHTML="<p>Sorry, could not initialize the WebGL graphics context: "+y+"</p>";return}Xr=new Zr(a,Er,0),Er()}window.addEventListener("keydown",function(a){switch(a.key){case"ArrowLeft":ne();break;case"ArrowRight":oe();break;default:return}});function ne(){Nr-=.05,Er()}function oe(){Nr+=.05,Er()}function ie(){const a=Math.sin(Nr)*1.2;return[a,-6,-10+a*a]}document.addEventListener("DOMContentLoaded",ee);
